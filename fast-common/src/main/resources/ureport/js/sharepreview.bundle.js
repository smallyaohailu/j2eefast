/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/MsgBox.js":
/*!***********************!*\
  !*** ./src/MsgBox.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"alert\": () => (/* binding */ alert),\n/* harmony export */   \"confirm\": () => (/* binding */ confirm),\n/* harmony export */   \"dialog\": () => (/* binding */ dialog),\n/* harmony export */   \"showDialog\": () => (/* binding */ showDialog),\n/* harmony export */   \"tip\": () => (/* binding */ tip)\n/* harmony export */ });\n/**\n * Created by jacky on 2016/7/9.\n */\nfunction alert(msg) {\n    const dialog = buildDialog('消息提示', msg);\n    dialog.modal('show');\n};\n\nfunction tip(title, msg) {\n    const dialog = buildDialog(title, msg);\n    dialog.modal('show');\n};\n\nfunction confirm(msg, callback) {\n    const dialog = buildDialog('确认提示', msg, [{\n        name: '确认',\n        click: function () {\n            callback.call(this);\n        }\n    }]);\n    dialog.modal('show');\n};\n\nfunction dialog(title, content, callback) {\n    const dialog = buildDialog(title, content, [{\n        name: '确认',\n        click: function () {\n            callback.call(this);\n        }\n    }]);\n    dialog.modal('show');\n};\n\nfunction showDialog(title, dialogContent, buttons, events, large) {\n    const dialog = buildDialog(title, dialogContent, buttons, large);\n    dialog.modal('show');\n    if (events) {\n        for (let event of events) {\n            dialog.on(event.name, event.callback);\n        }\n    }\n};\n\nfunction buildDialog(title, dialogContent, buttons, large) {\n    const className = 'modal-dialog' + (large ? ' modal-lg' : '');\n    let modal = $(`<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"></div>`);\n    let dialog = $(`<div class=\"${className}\"></div>`);\n    modal.append(dialog);\n    let content = $(`<div class=\"modal-content\">\n         <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\n               &times;\n            </button>\n            <h4 class=\"modal-title\">\n               ${title}\n            </h4>\n         </div>\n         <div class=\"modal-body\">\n            ${typeof dialogContent === 'string' ? dialogContent : ''}\n         </div>`);\n    if (typeof dialogContent === 'object') {\n        content.find('.modal-body').append(dialogContent);\n    }\n    dialog.append(content);\n    let footer = $(`<div class=\"modal-footer\"></div>`);\n    content.append(footer);\n    if (buttons) {\n        buttons.forEach((btn, index) => {\n            let button = $(`<button type=\"button\" class=\"btn btn-default\">${btn.name}</button>`);\n            button.click(function (e) {\n                btn.click.call(this);\n                if (!btn.holdDialog) {\n                    modal.modal('hide');\n                }\n            }.bind(this));\n            footer.append(button);\n        });\n    } else {\n        let okBtn = $(`<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">确定</button>`);\n        footer.append(okBtn);\n    }\n\n    modal.on(\"show.bs.modal\", function () {\n        var index = 1050;\n        $(document).find('.modal').each(function (i, d) {\n            var zIndex = $(d).css('z-index');\n            if (zIndex && zIndex !== '' && !isNaN(zIndex)) {\n                zIndex = parseInt(zIndex);\n                if (zIndex > index) {\n                    index = zIndex;\n                }\n            }\n        });\n        index++;\n        modal.css({ 'z-index': index });\n    });\n    return modal;\n};\n\n//# sourceURL=webpack://ureport2-js/./src/MsgBox.js?");

/***/ }),

/***/ "./src/Utils.js":
/*!**********************!*\
  !*** ./src/Utils.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"buildNewCellDef\": () => (/* binding */ buildNewCellDef),\n/* harmony export */   \"buildPageSizeList\": () => (/* binding */ buildPageSizeList),\n/* harmony export */   \"encode\": () => (/* binding */ encode),\n/* harmony export */   \"formatDate\": () => (/* binding */ formatDate),\n/* harmony export */   \"getParameter\": () => (/* binding */ getParameter),\n/* harmony export */   \"hideLoading\": () => (/* binding */ hideLoading),\n/* harmony export */   \"hideTip\": () => (/* binding */ hideTip),\n/* harmony export */   \"mmToPoint\": () => (/* binding */ mmToPoint),\n/* harmony export */   \"pixelToPoint\": () => (/* binding */ pixelToPoint),\n/* harmony export */   \"pointToMM\": () => (/* binding */ pointToMM),\n/* harmony export */   \"pointToPixel\": () => (/* binding */ pointToPixel),\n/* harmony export */   \"resetDirty\": () => (/* binding */ resetDirty),\n/* harmony export */   \"resetTableData\": () => (/* binding */ resetTableData),\n/* harmony export */   \"setDirty\": () => (/* binding */ setDirty),\n/* harmony export */   \"showLoading\": () => (/* binding */ showLoading),\n/* harmony export */   \"showTip\": () => (/* binding */ showTip),\n/* harmony export */   \"tableToXml\": () => (/* binding */ tableToXml),\n/* harmony export */   \"undoManager\": () => (/* binding */ undoManager)\n/* harmony export */ });\n/* harmony import */ var undo_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! undo-manager */ \"./node_modules/undo-manager/lib/undomanager.js\");\n/* harmony import */ var undo_manager__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(undo_manager__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _MsgBox_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MsgBox.js */ \"./src/MsgBox.js\");\n/**\n * Created by Jacky.gao on 2016/7/27.\n */\n\n\n\nfunction showTip(text) {\n    $(window).block({ message: '<div class=\"loaderbox\"><div class=\"loading-circle\"></div>' + text + '</div>' });\n}\n\nfunction hideTip() {\n    $(window).unblock();\n}\n\nfunction showLoading() {\n    const url = window._server + '/res/ureport-asserts/icons/loading.gif';\n    const h = $(window).height() / 2,\n          w = $(window).width() / 2;\n    const cover = $(`<div class=\"ureport-loading-cover\" style=\"position: absolute;left: 0px;top: 0px;width:${w * 2}px;height:${h * 2}px;z-index: 1199;background:rgba(222,222,222,.5)\"></div>`);\n    $(document.body).append(cover);\n    const loading = $(`<div class=\"ureport-loading\" style=\"text-align: center;position: absolute;z-index: 1120;left: ${w - 35}px;top: ${h - 35}px;\"><img src=\"${url}\">\n    <div style=\"margin-top: 5px\">打印数据加载中...</div></div>`);\n    $(document.body).append(loading);\n};\n\nfunction hideLoading() {\n    $('.ureport-loading-cover').remove();\n    $('.ureport-loading').remove();\n};\n\nfunction resetTableData(hot) {\n    const countCols = hot.countCols(),\n          countRows = hot.countRows(),\n          context = hot.context,\n          data = [];\n    for (let i = 0; i < countRows; i++) {\n        let rowData = [];\n        for (let j = 0; j < countCols; j++) {\n            let td = hot.getCell(i, j);\n            if (!td) {\n                rowData.push(\"\");\n                continue;\n            }\n            let cellDef = context.getCell(i, j);\n            if (cellDef) {\n                let valueType = cellDef.value.type,\n                    value = cellDef.value;\n                if (valueType === 'dataset') {\n                    let text = value.datasetName + \".\" + value.aggregate + \"(\";\n                    let prop = value.property;\n                    if (prop.length > 13) {\n                        text += prop.substring(0, 10) + '..)';\n                    } else {\n                        text += prop + \")\";\n                    }\n                    rowData.push(text);\n                } else if (valueType === 'expression') {\n                    let v = value.value || '';\n                    if (v.length > 16) {\n                        v = v.substring(0, 13) + '...';\n                    }\n                    rowData.push(v);\n                } else {\n                    rowData.push(value.value || \"\");\n                }\n            } else {\n                rowData.push(\"\");\n            }\n        }\n        data.push(rowData);\n    }\n    hot.loadData(data);\n};\n\nfunction buildNewCellDef(rowNumber, columnNumber) {\n    let cellDef = { rowNumber, columnNumber, expand: 'None', cellStyle: { fontSize: 9, forecolor: '0,0,0', fontFamily: '宋体', align: 'center', valign: 'middle' }, value: { type: 'simple', value: '' } };\n    return cellDef;\n};\n\n/**\n * 对象转换XML\n * @param 对象数据 context \n * @returns \n */\nfunction tableToXml(context) {\n    const hot = context.hot;\n    const countRows = hot.countRows(),\n          countCols = hot.countCols();\n    let xml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <ureport xmlns=\"http://www.j2eefast.com/JUUreport\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://www.j2eefast.com/JUUreport http://www.j2eefast.com/JUUreport \">`;\n    let config = '';\n    const $config = context.reportDef.config;\n    config += `<config>`;\n    config += `<name><![CDATA[${$config.name}]]></name>`;\n    config += `<downName><![CDATA[${$config.downName}]]></downName>`;\n    config += `<func><![CDATA[${$config.func}]]></func>`;\n    config += `<roleKeys><![CDATA[${$config.roleKeys}]]></roleKeys>`;\n    config += `<tableAlias><![CDATA[${$config.tableAlias}]]></tableAlias>`;\n    config += `<remark><![CDATA[${$config.remark}]]></remark>`;\n    config += `<version><![CDATA[${window._JU_VERSION_}]]></version>`;\n    config += `</config>`;\n    xml += config;\n\n    let rowsXml = '',\n        columnXml = '';\n    const rowHeaders = context.rowHeaders;\n    for (let i = 0; i < countRows; i++) {\n        let height = hot.getRowHeight(i) || 16;\n        height = pixelToPoint(height);\n        let band = null;\n        for (let header of rowHeaders) {\n            if (header.rowNumber === i) {\n                band = header.band;\n                break;\n            }\n        }\n        if (band) {\n            rowsXml += `<row row-number=\"${i + 1}\" height=\"${height}\" band=\"${band}\"/>`;\n        } else {\n            rowsXml += `<row row-number=\"${i + 1}\" height=\"${height}\"/>`;\n        }\n    }\n    for (let i = 0; i < countCols; i++) {\n        let width = hot.getColWidth(i) || 30;\n        width = pixelToPoint(width);\n        columnXml += `<column col-number=\"${i + 1}\" width=\"${width}\"/>`;\n    }\n    let cellXml = '',\n        spanData = [];\n    for (let i = 0; i < countRows; i++) {\n        for (let j = 0; j < countCols; j++) {\n            if (spanData.indexOf(i + \",\" + j) > -1) {\n                continue;\n            }\n            let cellDef = context.getCell(i, j);\n            if (!cellDef) {\n                continue;\n            }\n            let cellName = context.getCellName(i, j);\n            cellXml += `<cell expand=\"${cellDef.expand}\" name=\"${cellName}\" row=\"${i + 1}\" col=\"${j + 1}\"`;\n            if (cellDef.leftParentCellName && cellDef.leftParentCellName !== '') {\n                cellXml += ` left-cell=\"${cellDef.leftParentCellName}\"`;\n            }\n            if (cellDef.topParentCellName && cellDef.topParentCellName !== '') {\n                cellXml += ` top-cell=\"${cellDef.topParentCellName}\"`;\n            }\n            if (cellDef.fillBlankRows) {\n                cellXml += ` fill-blank-rows=\"${cellDef.fillBlankRows}\"`;\n                if (cellDef.multiple) {\n                    cellXml += ` multiple=\"${cellDef.multiple}\"`;\n                }\n            }\n\n            const span = getSpan(hot, i, j);\n            let rowSpan = span.rowspan,\n                colSpan = span.colspan;\n            let startRow = i,\n                endRow = i + rowSpan - 1,\n                startCol = j,\n                endCol = j + colSpan - 1;\n            for (let r = startRow; r <= endRow; r++) {\n                for (let c = startCol; c <= endCol; c++) {\n                    spanData.push(r + \",\" + c);\n                }\n            }\n            if (rowSpan > 1) {\n                cellXml += ` row-span=\"${rowSpan}\"`;\n            }\n            if (colSpan > 1) {\n                cellXml += ` col-span=\"${colSpan}\"`;\n            }\n\n            if (cellDef.linkUrl && cellDef.linkUrl !== '') {\n                cellXml += ` link-url=\"${cellDef.linkUrl}\"`;\n            }\n            if (cellDef.linkTargetWindow && cellDef.linkTargetWindow !== '') {\n                cellXml += ` link-target-window=\"${cellDef.linkTargetWindow}\"`;\n            }\n\n            cellXml += '>';\n            let cellStyle = cellDef.cellStyle;\n            cellXml += buildCellStyle(cellStyle);\n            if (cellDef.linkParameters && cellDef.linkParameters.length > 0) {\n                for (let param of cellDef.linkParameters) {\n                    cellXml += `<link-parameter name=\"${param.name}\">`;\n                    cellXml += `<value><![CDATA[${param.value}]]></value>`;\n                    cellXml += `</link-parameter>`;\n                }\n            }\n            const value = cellDef.value;\n            if (value.type === 'dataset') {\n                let msg = null;\n                if (!value.datasetName) {\n                    msg = `${cellName}单元格数据集属性不能为空！`;\n                }\n                if (!msg && !value.property) {\n                    msg = `${cellName}单元格属性不能为空！`;\n                }\n                if (!msg && !value.aggregate) {\n                    msg = `${cellName}单元格聚合方式属性不能为空！`;\n                }\n                if (msg) {\n                    (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_1__.alert)(msg);\n                    throw msg;\n                }\n                const mappingType = value.mappingType || 'simple';\n                cellXml += `<dataset-value dataset-name=\"${encode(value.datasetName)}\" aggregate=\"${value.aggregate}\" property=\"${value.property}\" order=\"${value.order}\" mapping-type=\"${mappingType}\"`;\n                if (mappingType === 'dataset') {\n                    cellXml += ` mapping-dataset=\"${value.mappingDataset}\" mapping-key-property=\"${value.mappingKeyProperty}\" mapping-value-property=\"${value.mappingValueProperty}\"`;\n                }\n                cellXml += '>';\n                cellXml += buildConditions(value.conditions);\n                if (value.aggregate === 'customgroup') {\n                    const groupItems = value.groupItems;\n                    for (let groupItem of groupItems) {\n                        cellXml += `<group-item name=\"${groupItem.name}\">`;\n                        for (let condition of groupItem.conditions) {\n                            cellXml += `<condition property=\"${condition.left}\" op=\"${encode(condition.operation || condition.op)}\" id=\"${condition.id}\"`;\n                            if (condition.join) {\n                                cellXml += ` join=\"${condition.join}\">`;\n                            } else {\n                                cellXml += `>`;\n                            }\n                            cellXml += `<value><![CDATA[${condition.right}]]></value>`;\n                            cellXml += `</condition>`;\n                        }\n                        cellXml += '</group-item>';\n                    }\n                }\n                if (mappingType === 'simple') {\n                    const mappingItems = value.mappingItems;\n                    if (mappingItems && mappingItems.length > 0) {\n                        for (let mappingItem of mappingItems) {\n                            cellXml += `<mapping-item value=\"${encode(mappingItem.value)}\" label=\"${encode(mappingItem.label)}\"/>`;\n                        }\n                    }\n                }\n                //系统字典\n                if (mappingType === 'dictType') {\n                    const dictType = value.dictType;\n                    if (dictType) {\n                        cellXml += `<mapping-dict value=\"${encode(dictType)}\"/>`;\n                    }\n                }\n                cellXml += `</dataset-value>`;\n            } else if (value.type === 'expression') {\n                if (!value.value || value.value === '') {\n                    const msg = `${cellName}单元格表达式不能为空`;\n                    (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_1__.alert)(msg);\n                    throw msg;\n                }\n                cellXml += `<expression-value>`;\n                cellXml += `<![CDATA[${value.value}]]>`;\n                cellXml += `</expression-value>`;\n            } else if (value.type === 'simple') {\n                cellXml += `<simple-value>`;\n                cellXml += `<![CDATA[${value.value || ''}]]>`;\n                cellXml += `</simple-value>`;\n            } else if (value.type === 'image') {\n                cellXml += `<image-value source=\"${value.source}\"`;\n                if (value.width) {\n                    cellXml += ` width=\"${value.width}\"`;\n                }\n                if (value.height) {\n                    cellXml += ` height=\"${value.height}\"`;\n                }\n                cellXml += `>`;\n                cellXml += `<text>`;\n                cellXml += `<![CDATA[${value.value}]]>`;\n                cellXml += `</text>`;\n                cellXml += `</image-value>`;\n            } else if (value.type === 'zxing') {\n                cellXml += `<zxing-value source=\"${value.source}\" category=\"${value.category}\" width=\"${value.width}\" height=\"${value.height}\"`;\n                if (value.format) {\n                    cellXml += ` format=\"${value.format}\"`;\n                }\n                if (value.codeDisplay) {\n                    cellXml += ` code-display=\"${value.codeDisplay}\"`;\n                }\n                cellXml += `>`;\n                cellXml += `<text>`;\n                cellXml += `<![CDATA[${value.value}]]>`;\n                cellXml += `</text>`;\n                cellXml += `</zxing-value>`;\n            } else if (value.type === 'slash') {\n                cellXml += `<slash-value>`;\n                const slashes = value.slashes;\n                for (let slash of slashes) {\n                    cellXml += `<slash text=\"${slash.text}\" x=\"${slash.x}\" y=\"${slash.y}\" degree=\"${slash.degree}\"/>`;\n                }\n                cellXml += `<base64-data>`;\n                cellXml += `<![CDATA[${value.base64Data}]]>`;\n                cellXml += `</base64-data>`;\n                cellXml += `</slash-value>`;\n            } else if (value.type === 'echart') {\n                cellXml += `<echart-value>`;\n                const chart = value.eChart;\n                const dataset = chart.dataset;\n                cellXml += `<dataset dataset-type=\"${dataset.dataType || 'sql'}\" dataset-name=\"${dataset.datasetName}\" type=\"${dataset.type}\"`;\n                if (dataset.categoryProperty) {\n                    cellXml += ` category-property=\"${dataset.categoryProperty}\"`;\n                }\n                if (dataset.seriesProperty) {\n                    cellXml += ` series-property=\"${dataset.seriesProperty}\"`;\n                }\n                if (dataset.seriesType) {\n                    cellXml += ` series-type=\"${dataset.seriesType}\"`;\n                }\n                if (dataset.seriesText) {\n                    cellXml += ` series-text=\"${dataset.seriesText}\"`;\n                }\n                if (dataset.valueProperty) {\n                    cellXml += ` value-property=\"${dataset.valueProperty}\"`;\n                }\n                if (dataset.rProperty) {\n                    cellXml += ` r-property=\"${dataset.rProperty}\"`;\n                }\n                if (dataset.xProperty) {\n                    cellXml += ` x-property=\"${dataset.xProperty}\"`;\n                }\n                if (dataset.yProperty) {\n                    cellXml += ` y-property=\"${dataset.yProperty}\"`;\n                }\n                if (dataset.collectType) {\n                    cellXml += ` collect-type=\"${dataset.collectType}\"`;\n                }\n                if (dataset.apiUrl) {\n                    cellXml += ` api-url=\"${dataset.apiUrl}\"`;\n                }\n                cellXml += `/>`;\n                const xaxes = chart.xaxes;\n                if (xaxes) {\n                    cellXml += `<xaxes`;\n                    if (xaxes.rotation) {\n                        cellXml += ` rotation=\"${xaxes.rotation}\"`;\n                    }\n                    cellXml += `>`;\n                    const scaleLabel = xaxes.scaleLabel;\n                    if (scaleLabel) {\n                        cellXml += `<scale-label display=\"${scaleLabel.display}\"`;\n                        if (scaleLabel.labelString) {\n                            cellXml += ` label-string=\"${scaleLabel.labelString}\"`;\n                        }\n                        cellXml += `/>`;\n                    }\n                    cellXml += `</xaxes>`;\n                }\n                const yaxes = chart.yaxes;\n                if (yaxes) {\n                    cellXml += `<yaxes`;\n                    if (yaxes.rotation) {\n                        cellXml += ` rotation=\"${yaxes.rotation}\"`;\n                    }\n                    cellXml += `>`;\n                    const scaleLabel = yaxes.scaleLabel;\n                    if (scaleLabel) {\n                        cellXml += `<scale-label display=\"${scaleLabel.display}\"`;\n                        if (scaleLabel.labelString) {\n                            cellXml += ` label-string=\"${scaleLabel.labelString}\"`;\n                        }\n                        cellXml += `/>`;\n                    }\n                    cellXml += `</yaxes>`;\n                }\n\n                // let pie = false;\n                //图表配置\n                const options = chart.options;\n                if (options) {\n                    for (let option of options) {\n                        cellXml += `<option type=\"${option.type}\"`;\n                        if (option.position) {\n                            cellXml += ` position=\"${option.position}\"`;\n                        }\n                        if (option.backgroundColor) {\n                            cellXml += ` backgroundColor=\"${option.backgroundColor}\"`;\n                        }\n                        if (option.display !== undefined && option.display !== null) {\n                            cellXml += ` display=\"${option.display}\"`;\n                        }\n                        if (option.color) {\n                            cellXml += ` color=\"${option.color}\"`;\n                        }\n                        if (option.trigger) {\n                            cellXml += ` trigger=\"${option.trigger}\"`;\n                        }\n                        if (option.fontSize) {\n                            cellXml += ` fontSize=\"${option.fontSize}\"`;\n                        }\n                        if (option.text) {\n                            cellXml += ` text=\"${option.text}\"`;\n                        }\n                        if (option.left) {\n                            cellXml += ` left=\"${option.left}\"`;\n                        }\n                        if (option.top) {\n                            cellXml += ` top=\"${option.top}\"`;\n                        }\n                        if (option.orient) {\n                            cellXml += ` orient=\"${option.orient}\"`;\n                        }\n                        if (option.smooth) {\n                            cellXml += ` smooth=\"${option.smooth}\"`;\n                        }\n                        if ((dataset.type == 'pie_doughnut' || dataset.type == 'pie_roseType') && option.type == 'pie') {\n                            // pie = true;     \n                            cellXml += ` radius=\"${option.radius || \"['40%','60%']\"}\"`;\n                        }\n                        if (dataset.type == 'pie_simple' && option.type == 'pie') {\n                            // pie = true; \n                            cellXml += ` radius=\"${option.radius || '50%'}\"`;\n                        }\n                        cellXml += `/>`;\n                    }\n                }\n\n                // if(!pie && (dataset.type == 'pie_doughnut' ||\n                // dataset.type == 'pie_roseType' || dataset.type == 'pie_simple')){\n                //     cellXml+=`<option type=\"pie\"`;\n                //     if((dataset.type == 'pie_doughnut' ||\n                //              dataset.type == 'pie_roseType')){  \n                //             cellXml+=` radius=\"['40%','60%']\"`;\n                //         }\n                //     if(dataset.type == 'pie_simple'){\n                //         cellXml+=` radius=\"'50%'\"`;\n                //     }\n                //     cellXml+=`/>`;\n                // }\n\n                const plugins = chart.plugins || [];\n                for (let plugin of plugins) {\n                    cellXml += `<plugin name=\"${plugin.name}\" display=\"${plugin.display}\"/>`;\n                }\n                if (plugins) {}\n                cellXml += `</echart-value>`;\n            } else if (value.type === 'chart') {\n                cellXml += `<chart-value>`;\n                const chart = value.chart;\n                const dataset = chart.dataset;\n                cellXml += `<dataset dataset-name=\"${dataset.datasetName}\" type=\"${dataset.type}\"`;\n                if (dataset.categoryProperty) {\n                    cellXml += ` category-property=\"${dataset.categoryProperty}\"`;\n                }\n                if (dataset.seriesProperty) {\n                    cellXml += ` series-property=\"${dataset.seriesProperty}\"`;\n                }\n                if (dataset.seriesType) {\n                    cellXml += ` series-type=\"${dataset.seriesType}\"`;\n                }\n                if (dataset.seriesText) {\n                    cellXml += ` series-text=\"${dataset.seriesText}\"`;\n                }\n                if (dataset.valueProperty) {\n                    cellXml += ` value-property=\"${dataset.valueProperty}\"`;\n                }\n                if (dataset.rProperty) {\n                    cellXml += ` r-property=\"${dataset.rProperty}\"`;\n                }\n                if (dataset.xProperty) {\n                    cellXml += ` x-property=\"${dataset.xProperty}\"`;\n                }\n                if (dataset.yProperty) {\n                    cellXml += ` y-property=\"${dataset.yProperty}\"`;\n                }\n                if (dataset.collectType) {\n                    cellXml += ` collect-type=\"${dataset.collectType}\"`;\n                }\n                cellXml += `/>`;\n                const xaxes = chart.xaxes;\n                if (xaxes) {\n                    cellXml += `<xaxes`;\n                    if (xaxes.rotation) {\n                        cellXml += ` rotation=\"${xaxes.rotation}\"`;\n                    }\n                    cellXml += `>`;\n                    const scaleLabel = xaxes.scaleLabel;\n                    if (scaleLabel) {\n                        cellXml += `<scale-label display=\"${scaleLabel.display}\"`;\n                        if (scaleLabel.labelString) {\n                            cellXml += ` label-string=\"${scaleLabel.labelString}\"`;\n                        }\n                        cellXml += `/>`;\n                    }\n                    cellXml += `</xaxes>`;\n                }\n                const yaxes = chart.yaxes;\n                if (yaxes) {\n                    cellXml += `<yaxes`;\n                    if (yaxes.rotation) {\n                        cellXml += ` rotation=\"${yaxes.rotation}\"`;\n                    }\n                    cellXml += `>`;\n                    const scaleLabel = yaxes.scaleLabel;\n                    if (scaleLabel) {\n                        cellXml += `<scale-label display=\"${scaleLabel.display}\"`;\n                        if (scaleLabel.labelString) {\n                            cellXml += ` label-string=\"${scaleLabel.labelString}\"`;\n                        }\n                        cellXml += `/>`;\n                    }\n                    cellXml += `</yaxes>`;\n                }\n                const options = chart.options;\n                if (options) {\n                    for (let option of options) {\n                        cellXml += `<option type=\"${option.type}\"`;\n                        if (option.position) {\n                            cellXml += ` position=\"${option.position}\"`;\n                        }\n                        if (option.display !== undefined && option.display !== null) {\n                            cellXml += ` display=\"${option.display}\"`;\n                        }\n                        if (option.duration) {\n                            cellXml += ` duration=\"${option.duration}\"`;\n                        }\n                        if (option.easing) {\n                            cellXml += ` easing=\"${option.easing}\"`;\n                        }\n                        if (option.text) {\n                            cellXml += ` text=\"${option.text}\"`;\n                        }\n                        cellXml += `/>`;\n                    }\n                }\n                const plugins = chart.plugins || [];\n                for (let plugin of plugins) {\n                    cellXml += `<plugin name=\"${plugin.name}\" display=\"${plugin.display}\"/>`;\n                }\n                if (plugins) {}\n                cellXml += `</chart-value>`;\n            }\n            const propertyConditions = cellDef.conditionPropertyItems || [];\n            for (let pc of propertyConditions) {\n                cellXml += `<condition-property-item name=\"${pc.name}\"`;\n                const rowHeight = pc.rowHeight;\n                if (rowHeight !== null && rowHeight !== undefined && rowHeight !== -1) {\n                    cellXml += ` row-height=\"${rowHeight}\"`;\n                }\n                const colWidth = pc.colWidth;\n                if (colWidth !== null && colWidth !== undefined && colWidth !== -1) {\n                    cellXml += ` col-width=\"${colWidth}\"`;\n                }\n                if (pc.newValue && pc.newValue !== '') {\n                    cellXml += ` new-value=\"${pc.newValue}\"`;\n                }\n                if (pc.linkUrl && pc.linkUrl !== '') {\n                    cellXml += ` link-url=\"${pc.linkUrl}\"`;\n                    let targetWindow = pc.linkTargetWindow;\n                    if (!targetWindow || targetWindow === '') {\n                        targetWindow = \"_self\";\n                    }\n                    cellXml += ` link-target-window=\"${pc.linkTargetWindow}\"`;\n                }\n                cellXml += `>`;\n                const paging = pc.paging;\n                if (paging) {\n                    cellXml += `<paging position=\"${paging.position}\" line=\"${paging.line}\"/>`;\n                }\n                if (pc.linkParameters && pc.linkParameters.length > 0) {\n                    for (let param of pc.linkParameters) {\n                        cellXml += `<link-parameter name=\"${param.name}\">`;\n                        cellXml += `<value><![CDATA[${param.value}]]></value>`;\n                        cellXml += `</link-parameter>`;\n                    }\n                }\n                const style = pc.cellStyle;\n                if (style) {\n                    cellXml += buildCellStyle(style, true);\n                }\n                cellXml += buildConditions(pc.conditions);\n                cellXml += `</condition-property-item>`;\n            }\n            cellXml += '</cell>';\n        }\n    }\n    xml += cellXml;\n    xml += rowsXml;\n    xml += columnXml;\n    const header = context.reportDef.header;\n    if (header && (header.left || header.center || header.right)) {\n        xml += '<header ';\n        if (header.fontFamily) {\n            xml += ` font-family=\"${header.fontFamily}\"`;\n        }\n        if (header.fontSize) {\n            xml += ` font-size=\"${header.fontSize}\"`;\n        }\n        if (header.forecolor) {\n            xml += ` forecolor=\"${header.forecolor}\"`;\n        }\n        if (header.bold) {\n            xml += ` bold=\"${header.bold}\"`;\n        }\n        if (header.italic) {\n            xml += ` italic=\"${header.italic}\"`;\n        }\n        if (header.underline) {\n            xml += ` underline=\"${header.underline}\"`;\n        }\n        if (header.margin) {\n            xml += ` margin=\"${header.margin}\"`;\n        }\n        xml += '>';\n        if (header.left) {\n            xml += `<left><![CDATA[${header.left}]]></left>`;\n        }\n        if (header.center) {\n            xml += `<center><![CDATA[${header.center}]]></center>`;\n        }\n        if (header.right) {\n            xml += `<right><![CDATA[${header.right}]]></right>`;\n        }\n        xml += '</header>';\n    }\n    const footer = context.reportDef.footer;\n    if (footer && (footer.left || footer.center || footer.right)) {\n        xml += '<footer ';\n        if (footer.fontFamily) {\n            xml += ` font-family=\"${footer.fontFamily}\"`;\n        }\n        if (footer.fontSize) {\n            xml += ` font-size=\"${footer.fontSize}\"`;\n        }\n        if (footer.forecolor) {\n            xml += ` forecolor=\"${footer.forecolor}\"`;\n        }\n        if (footer.bold) {\n            xml += ` bold=\"${footer.bold}\"`;\n        }\n        if (footer.italic) {\n            xml += ` italic=\"${footer.italic}\"`;\n        }\n        if (footer.underline) {\n            xml += ` underline=\"${footer.underline}\"`;\n        }\n        if (footer.margin) {\n            xml += ` margin=\"${footer.margin}\"`;\n        }\n        xml += '>';\n        if (footer.left) {\n            xml += `<left><![CDATA[${footer.left}]]></left>`;\n        }\n        if (footer.center) {\n            xml += `<center><![CDATA[${footer.center}]]></center>`;\n        }\n        if (footer.right) {\n            xml += `<right><![CDATA[${footer.right}]]></right>`;\n        }\n        xml += '</footer>';\n    }\n    let datasourceXml = \"\";\n    const datasources = context.reportDef.datasources;\n    for (let datasource of datasources) {\n        let ds = `<datasource name=\"${encode(datasource.name)}\" type=\"${datasource.type}\"`;\n        let type = datasource.type;\n        if (type === 'jdbc') {\n            ds += ` username=\"${encode(datasource.username)}\"`;\n            ds += ` password=\"${encode(datasource.password)}\"`;\n            ds += ` url=\"${encode(datasource.url)}\"`;\n            ds += ` driver=\"${datasource.driver}\"`;\n            ds += '>';\n            for (let dataset of datasource.datasets) {\n                ds += `<dataset name=\"${encode(dataset.name)}\" type=\"sql\">`;\n                ds += `<sql><![CDATA[${dataset.sql}]]></sql>`;\n                for (let field of dataset.fields) {\n                    ds += `<field name=\"${field.name}\"/>`;\n                }\n                for (let parameter of dataset.parameters) {\n                    ds += `<parameter name=\"${encode(parameter.name)}\" type=\"${parameter.type}\" default-value=\"${encode(parameter.defaultValue)}\"/>`;\n                }\n                ds += `</dataset>`;\n            }\n        } else if (type === 'spring') {\n            ds += ` bean=\"${datasource.beanId}\">`;\n            for (let dataset of datasource.datasets) {\n                ds += `<dataset name=\"${encode(dataset.name)}\" type=\"bean\" method=\"${dataset.method}\" clazz=\"${dataset.clazz}\">`;\n                for (let field of dataset.fields) {\n                    ds += `<field name=\"${field.name}\"/>`;\n                }\n                ds += `</dataset>`;\n            }\n        } else if (type === 'buildin') {\n            //内置数据源\n            ds += '>';\n            for (let dataset of datasource.datasets) {\n                if (dataset.page != undefined && dataset.page && dataset.pageSize) {\n                    ds += `<dataset name=\"${encode(dataset.name)}\" type=\"sql\" ispage=\"true\" pagesize=\"${dataset.pageSize}\">`;\n                } else {\n                    ds += `<dataset name=\"${encode(dataset.name)}\" type=\"sql\" ispage=\"false\">`;\n                }\n                ds += `<sql><![CDATA[${dataset.sql}]]></sql>`;\n                for (let field of dataset.fields) {\n                    ds += `<field name=\"${field.name}\"/>`;\n                }\n                for (let parameter of dataset.parameters) {\n                    ds += `<parameter name=\"${parameter.name}\" type=\"${parameter.type}\" default-value=\"${parameter.defaultValue}\"/>`;\n                }\n                ds += `</dataset>`;\n            }\n        }\n        ds += \"</datasource>\";\n        datasourceXml += ds;\n    }\n    xml += datasourceXml;\n    const paper = context.reportDef.paper;\n    let htmlIntervalRefreshValue = 0;\n    if (paper.htmlIntervalRefreshValue !== null && paper.htmlIntervalRefreshValue !== undefined) {\n        htmlIntervalRefreshValue = paper.htmlIntervalRefreshValue;\n    }\n    xml += `<paper type=\"${paper.paperType}\" left-margin=\"${paper.leftMargin}\" right-margin=\"${paper.rightMargin}\"\n    top-margin=\"${paper.topMargin}\" bottom-margin=\"${paper.bottomMargin}\" paging-mode=\"${paper.pagingMode}\" fixrows=\"${paper.fixRows}\"\n    width=\"${paper.width}\" height=\"${paper.height}\" orientation=\"${paper.orientation}\" html-report-align=\"${paper.htmlReportAlign}\" bg-watermark=\"${paper.watermark || ''}\" bg-image=\"${paper.bgImage || ''}\" html-interval-refresh-value=\"${htmlIntervalRefreshValue}\" column-enabled=\"${paper.columnEnabled}\"`;\n    if (paper.columnEnabled) {\n        xml += ` column-count=\"${paper.columnCount}\" column-margin=\"${paper.columnMargin}\"`;\n    }\n    xml += `></paper>`;\n    if (context.reportDef.searchFormXml) {\n        xml += context.reportDef.searchFormXml;\n    }\n    xml += `</ureport>`;\n    console.log(\"xml:\", xml);\n    xml = encodeURIComponent(xml);\n    return xml;\n};\n\nfunction getSpan(hot, row, col) {\n    const mergeCells = hot.getSettings().mergeCells || [];\n    for (let item of mergeCells) {\n        if (item.row === row && item.col === col) {\n            return item;\n        }\n    }\n    return { rowspan: 0, colspan: 0 };\n}\n\nfunction buildConditions(conditions) {\n    let cellXml = '';\n    if (conditions) {\n        const size = conditions.length;\n        for (let condition of conditions) {\n            if (!condition.type || condition.type === 'property') {\n                if (condition.left) {\n                    cellXml += `<condition property=\"${condition.left}\" op=\"${encode(condition.operation)}\" id=\"${condition.id}\"`;\n                } else {\n                    cellXml += `<condition op=\"${encode(condition.operation)}\" id=\"${condition.id}\"`;\n                }\n                cellXml += ` type=\"${condition.type}\"`;\n                if (condition.join && size > 1) {\n                    cellXml += ` join=\"${condition.join}\">`;\n                } else {\n                    cellXml += `>`;\n                }\n                cellXml += `<value><![CDATA[${condition.right}]]></value>`;\n            } else {\n                if (!condition.operation && condition.op == 'Equals') {\n                    condition.operation = '==';\n                }\n                cellXml += `<condition type=\"${condition.type}\" op=\"${encode(condition.operation)}\" id=\"${condition.id}\"`;\n                if (condition.join && size > 1) {\n                    cellXml += ` join=\"${condition.join}\">`;\n                } else {\n                    cellXml += `>`;\n                }\n                cellXml += `<left><![CDATA[${condition.left}]]></left>`;\n                cellXml += `<right><![CDATA[${condition.right}]]></right>`;\n            }\n            cellXml += `</condition>`;\n        }\n    }\n    return cellXml;\n};\n\nfunction buildCellStyle(cellStyle, condition) {\n    let cellXml = \"<cell-style\";\n    if (condition) {\n        cellXml += ` for-condition=\"true\"`;\n    }\n    if (cellStyle.fontSize && cellStyle.fontSize !== '') {\n        cellXml += ` font-size=\"${cellStyle.fontSize}\"`;\n    }\n    if (cellStyle.fontSizeScope) {\n        cellXml += ` font-size-scope=\"${cellStyle.fontSizeScope}\"`;\n    }\n    if (cellStyle.forecolor && cellStyle.forecolor !== '') {\n        cellXml += ` forecolor=\"${cellStyle.forecolor}\"`;\n    }\n    if (cellStyle.forecolorScope) {\n        cellXml += ` forecolor-scope=\"${cellStyle.forecolorScope}\"`;\n    }\n    if (cellStyle.fontFamily) {\n        if (cellStyle.fontFamily === '0') {\n            cellXml += ` font-family=\"\"`;\n        } else {\n            cellXml += ` font-family=\"${cellStyle.fontFamily}\"`;\n        }\n    }\n    if (cellStyle.fontFamilyScope) {\n        cellXml += ` font-family-scope=\"${cellStyle.fontFamilyScope}\"`;\n    }\n    if (cellStyle.bgcolor && cellStyle.bgcolor !== '') {\n        cellXml += ` bgcolor=\"${cellStyle.bgcolor}\"`;\n    }\n    if (cellStyle.bgcolorScope) {\n        cellXml += ` bgcolor-scope=\"${cellStyle.bgcolorScope}\"`;\n    }\n    if (cellStyle.format && cellStyle.format !== '') {\n        cellXml += ` format=\"${cellStyle.format}\"`;\n    }\n    if (cellStyle.bold !== undefined && cellStyle.bold !== null) {\n        cellXml += ` bold=\"${cellStyle.bold}\"`;\n    }\n    if (cellStyle.wordWrap !== undefined && cellStyle.wordWrap !== null) {\n        cellXml += ` word-wrap=\"${cellStyle.wordWrap}\"`;\n    }\n    if (cellStyle.boldScope) {\n        cellXml += ` bold-scope=\"${cellStyle.boldScope}\"`;\n    }\n    if (cellStyle.italic !== undefined && cellStyle.italic !== null) {\n        cellXml += ` italic=\"${cellStyle.italic}\"`;\n    }\n    if (cellStyle.italicScope) {\n        cellXml += ` italic-scope=\"${cellStyle.italicScope}\"`;\n    }\n    if (cellStyle.underline !== undefined && cellStyle.underline !== null) {\n        cellXml += ` underline=\"${cellStyle.underline}\"`;\n    }\n    if (cellStyle.delline !== undefined && cellStyle.delline !== null) {\n        cellXml += ` delline=\"${cellStyle.delline}\"`;\n    }\n    if (cellStyle.underlineScope) {\n        cellXml += ` underline-scope=\"${cellStyle.underlineScope}\"`;\n    }\n    if (cellStyle.wrapCompute !== undefined && cellStyle.wrapCompute !== null) {\n        cellXml += ` wrap-compute=\"${cellStyle.wrapCompute}\"`;\n    }\n    if (cellStyle.align && cellStyle.align !== '') {\n        cellXml += ` align=\"${cellStyle.align}\"`;\n    }\n    if (cellStyle.alignScope) {\n        cellXml += ` align-scope=\"${cellStyle.alignScope}\"`;\n    }\n    if (cellStyle.valign && cellStyle.valign !== '') {\n        cellXml += ` valign=\"${cellStyle.valign}\"`;\n    }\n    if (cellStyle.valignScope) {\n        cellXml += ` valign-scope=\"${cellStyle.valignScope}\"`;\n    }\n    if (cellStyle.lineHeight) {\n        cellXml += ` line-height=\"${cellStyle.lineHeight}\"`;\n    }\n    //是否转义\n    if (cellStyle.htmlEscape !== undefined && cellStyle.htmlEscape !== null) {\n        cellXml += ` html-escape=\"${cellStyle.htmlEscape}\"`;\n    }\n    cellXml += '>';\n    let leftBorder = cellStyle.leftBorder;\n    if (leftBorder && leftBorder.style !== \"none\") {\n        cellXml += `<left-border width=\"${leftBorder.width}\" style=\"${leftBorder.style}\" color=\"${leftBorder.color}\"/>`;\n    }\n    let rightBorder = cellStyle.rightBorder;\n    if (rightBorder && rightBorder.style !== \"none\") {\n        cellXml += `<right-border width=\"${rightBorder.width}\" style=\"${rightBorder.style}\" color=\"${rightBorder.color}\"/>`;\n    }\n    let topBorder = cellStyle.topBorder;\n    if (topBorder && topBorder.style !== \"none\") {\n        cellXml += `<top-border width=\"${topBorder.width}\" style=\"${topBorder.style}\" color=\"${topBorder.color}\"/>`;\n    }\n    let bottomBorder = cellStyle.bottomBorder;\n    if (bottomBorder && bottomBorder.style !== \"none\") {\n        cellXml += `<bottom-border width=\"${bottomBorder.width}\" style=\"${bottomBorder.style}\" color=\"${bottomBorder.color}\"/>`;\n    }\n    cellXml += '</cell-style>';\n    return cellXml;\n};\n\nfunction encode(text) {\n    let result = text.replace(/[<>&\"]/g, function (c) {\n        return { '<': '&lt;', '>': '&gt;', '&': '&amp;', '\"': '&quot;' }[c];\n    });\n    return result;\n};\n\nfunction getParameter(name) {\n    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n    var r = window.location.search.substr(1).match(reg);\n    if (r != null) return r[2];\n    return null;\n};\n\nfunction mmToPoint(mm) {\n    let value = mm * 2.834646;\n    return Math.round(value);\n};\nfunction pointToMM(point) {\n    let value = point * 0.352778;\n    return Math.round(value);\n};\n\nfunction pointToPixel(point) {\n    const value = point * 1.33;\n    return Math.round(value);\n};\n\nfunction pixelToPoint(pixel) {\n    const value = pixel * 0.75;\n    return Math.round(value);\n};\n\nfunction setDirty() {\n    $('#__save_btn').removeClass('disabled');\n};\n\nfunction resetDirty() {\n    $('#__save_btn').addClass('disabled');\n};\n\nfunction formatDate(date, format) {\n    if (typeof date === 'number') {\n        date = new Date(date);\n    }\n    if (typeof date === 'string') {\n        return date;\n    }\n    var o = {\n        \"M+\": date.getMonth() + 1,\n        \"d+\": date.getDate(),\n        \"H+\": date.getHours(),\n        \"m+\": date.getMinutes(),\n        \"s+\": date.getSeconds()\n    };\n    if (/(y+)/.test(format)) format = format.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n    for (var k in o) if (new RegExp(\"(\" + k + \")\").test(format)) format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\n    return format;\n};\n\nfunction buildPageSizeList() {\n    return {\n        A0: { width: 841, height: 1189 },\n        A1: { width: 594, height: 841 },\n        A2: { width: 420, height: 594 },\n        A3: { width: 297, height: 420 },\n        A4: { width: 210, height: 297 },\n        A5: { width: 148, height: 210 },\n        A6: { width: 105, height: 148 },\n        A7: { width: 74, height: 105 },\n        A8: { width: 52, height: 74 },\n        A9: { width: 37, height: 52 },\n        A10: { width: 26, height: 37 },\n        B0: { width: 1000, height: 1414 },\n        B1: { width: 707, height: 1000 },\n        B2: { width: 500, height: 707 },\n        B3: { width: 353, height: 500 },\n        B4: { width: 250, height: 353 },\n        B5: { width: 176, height: 250 },\n        B6: { width: 125, height: 176 },\n        B7: { width: 88, height: 125 },\n        B8: { width: 62, height: 88 },\n        B9: { width: 44, height: 62 },\n        B10: { width: 31, height: 44 }\n    };\n}\n\nconst undoManager = new (undo_manager__WEBPACK_IMPORTED_MODULE_0___default())();\n\n//# sourceURL=webpack://ureport2-js/./src/Utils.js?");

/***/ }),

/***/ "./src/sharePreview.js":
/*!*****************************!*\
  !*** ./src/sharePreview.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _form_external_bootstrap_datetimepicker_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./form/external/bootstrap-datetimepicker.css */ \"./src/form/external/bootstrap-datetimepicker.css\");\n/* harmony import */ var _form_external_bootstrap_datetimepicker_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_form_external_bootstrap_datetimepicker_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils.js */ \"./src/Utils.js\");\n/* harmony import */ var _MsgBox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MsgBox.js */ \"./src/MsgBox.js\");\n/**\n * J2eeFAST 报表分享功能\n */\n\n\n\n\n$(document).ready(function () {\n\n    $(\"#submitBtn\").click(function () {\n        _login();\n    });\n\n    let code = __getItem(window.__SURL__);\n    if (code != undefined && code != 'undefined' && code.length > 0) {\n        let _i = __getItem(window.__SURL__ + \"_page\");\n        if (!_i) {\n            _i = 1;\n        }\n        $.ajax({\n            url: window.__BASEURL__,\n            type: 'POST',\n            data: {\n                __pass: code,\n                _i: _i\n            },\n            beforeSend: function () {\n                (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.showTip)('正在处理中，请稍后...');\n            },\n            success: function (ref) {\n                (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                if (ref.code == '000000') {\n                    $('#ft').remove();\n                    $('#tpl-css').empty();\n                    $('#doc').empty();\n                    $('#tpl-css').append(ref.data.style);\n                    $('#doc').append(ref.data.content);\n                    $('#printTool').css('display', 'block');\n                    if (ref.data.page) {\n                        $('#totalPageLabel').html(ref.data.totalPage);\n                        $('#pageSelector').empty();\n                        var html = '';\n                        for (var i = 1; i <= ref.data.totalPage; i++) {\n                            html += \"<option>\" + i + \"</option>\";\n                        }\n                        $('#pageSelector').append(html);\n                    } else {\n                        $('#pagingContainer').remove();\n                        $('.share-ureport-printAll').remove();\n                    }\n                    if (ref.data.watermark && ref.data.watermark.length > 0) {\n                        _watermark(window, { \"watermark_txt\": ref.data.watermark });\n                    }\n                    __setItem(window.__SURL__, code);\n                    shareBuildPaging(ref.data.pageIndex, ref.data.totalPage);\n                } else {\n                    $('#eltxPEmP').html(ref.msg);\n                    __clearLockhost();\n                }\n            },\n            error: function (response) {\n                __clearLockhost();\n                //$(window).unblock();\n                (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                if (response && response.responseText) {\n                    (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)(\"服务端错误：\" + response.responseText + \"\");\n                }\n            }\n        });\n    } else {\n        $('.init-docs').css('display', 'block');\n    }\n\n    //分享打印当前\n    $('.share-ureport-print').click(function () {\n        let code = __getItem(window.__SURL__);\n        (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.showTip)('数据处理中，请稍后...');\n        const url = window.__SERVER__ + '/shareview/loadPrintPages' + \"?__surl=\" + window.__SURL__;\n        $.ajax({\n            url,\n            type: 'POST',\n            data: {\n                __pass: code,\n                __a: 0,\n                _i: window._currentPageIndex\n            },\n            success: function (result) {\n                if (result.code == '000000') {\n                    (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                    const html = result.html;\n                    const watermark = result.watermark; //水印\n                    const iFrame = window.frames['_print_frame'];\n                    let styles = `<style type=\"text/css\">`;\n                    styles += buildPrintStyle(result.paper);\n                    styles += $('#tpl-css').html();\n                    styles += `</style>`;\n                    $(iFrame.document.body).html(styles + html);\n                    if (watermark && watermark.length > 0) {\n                        iFrame.window.onload = function () {\n                            _watermark(iFrame, { 'watermark_txt': watermark });\n                        };\n                        iFrame.window.onload();\n                    }\n                    iFrame.window.focus();\n                    iFrame.window.print();\n                }\n            },\n            error: function (response) {\n                (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                if (response && response.responseText) {\n                    (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)(\"服务端错误：\" + response.responseText + \"\");\n                } else {\n                    (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)(\"服务端出错！\");\n                }\n            }\n        });\n    });\n\n    //分享打印所有\n    $('.share-ureport-printAll').click(function () {\n        var pg = window._totalPage;\n        if (pg > 30) {\n            (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.confirm)(`当前总页数过大,一共[<span style=\"font-weight: bold;font-size: 14pt;color: #f44336;\">` + pg + `</span>]页,请确认是否打印？数据加载有点慢请耐心等待...`, function () {\n                let code = __getItem(window.__SURL__);\n                (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.showTip)('数据处理中，请稍后...');\n                const url = window.__SERVER__ + '/shareview/loadPrintPages' + \"?__surl=\" + window.__SURL__;\n                $.ajax({\n                    url,\n                    type: 'POST',\n                    data: {\n                        __pass: code,\n                        __a: 1,\n                        _i: 1\n                    },\n                    success: function (result) {\n                        if (result.code == '000000') {\n                            (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                            const html = result.html;\n                            const watermark = result.watermark; //水印\n                            const iFrame = window.frames['_print_frame'];\n                            let styles = `<style type=\"text/css\">`;\n                            styles += buildPrintStyle(result.paper);\n                            styles += $('#tpl-css').html();\n                            styles += `</style>`;\n                            $(iFrame.document.body).html(styles + html);\n                            if (watermark && watermark.length > 0) {\n                                iFrame.window.onload = function () {\n                                    _watermark(iFrame, { 'watermark_txt': watermark });\n                                };\n                                iFrame.window.onload();\n                            }\n                            iFrame.window.focus();\n                            iFrame.window.print();\n                        }\n                    },\n                    error: function (response) {\n                        (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                        if (response && response.responseText) {\n                            (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)(\"服务端错误：\" + response.responseText + \"\");\n                        } else {\n                            (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)(\"服务端出错！\");\n                        }\n                    }\n                });\n            });\n        } else {\n            let code = __getItem(window.__SURL__);\n            (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.showTip)('数据处理中，请稍后...');\n            const url = window.__SERVER__ + '/shareview/loadPrintPages' + \"?__surl=\" + window.__SURL__;\n            $.ajax({\n                url,\n                type: 'POST',\n                data: {\n                    __pass: code,\n                    __a: 1,\n                    _i: 1\n                },\n                success: function (result) {\n                    if (result.code == '000000') {\n                        (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                        const html = result.html;\n                        const watermark = result.watermark; //水印\n                        const iFrame = window.frames['_print_frame'];\n                        let styles = `<style type=\"text/css\">`;\n                        styles += buildPrintStyle(result.paper);\n                        styles += $('#tpl-css').html();\n                        styles += `</style>`;\n                        $(iFrame.document.body).html(styles + html);\n                        if (watermark && watermark.length > 0) {\n                            iFrame.window.onload = function () {\n                                _watermark(iFrame, { 'watermark_txt': watermark });\n                            };\n                            iFrame.window.onload();\n                        }\n                        iFrame.window.focus();\n                        iFrame.window.print();\n                    }\n                },\n                error: function (response) {\n                    (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                    if (response && response.responseText) {\n                        (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)(\"服务端错误：\" + response.responseText + \"\");\n                    } else {\n                        (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)(\"服务端出错！\");\n                    }\n                }\n            });\n        }\n    });\n});\n\nwindow._currentPageIndex = null;\nwindow._totalPage = null;\n\n/**\n * 添加水印\n * @param {*} settings \n */\nwindow._watermark = function (_self, settings) {\n    //默认设置\n    var defaultSettings = {\n        watermark_txt: \"演示样例\",\n        watermark_x: 20, //水印起始位置x轴坐标\n        watermark_y: 20, //水印起始位置Y轴坐标\n        watermark_rows: 100, //水印行数\n        watermark_cols: 20, //水印列数\n        watermark_x_space: 10, //水印x轴间隔\n        watermark_y_space: 10, //水印y轴间隔\n        watermark_color: '#aaa', //水印字体颜色\n        watermark_alpha: 0.8, //水印透明度\n        watermark_fontsize: '15px', //水印字体大小\n        watermark_font: '微软雅黑', //水印字体\n        watermark_width: 150, //水印宽度\n        watermark_height: 80, //水印长度\n        watermark_angle: 15 //水印倾斜度数\n    };\n    //采用配置项替换默认值，作用类似jquery.extend\n    if (arguments.length === 2 && typeof arguments[1] === \"object\") {\n        var src = arguments[1] || {};\n        for (let key in src) {\n            if (src[key] && defaultSettings[key] && src[key] === defaultSettings[key]) continue;else if (src[key]) defaultSettings[key] = src[key];\n        }\n    }\n\n    let oTemp = _self.document.createDocumentFragment();\n\n    //获取页面最大宽度\n    let page_width = Math.max(_self.document.body.scrollWidth, _self.document.body.clientWidth);\n    let cutWidth = page_width * 0.0150;\n    page_width = page_width - cutWidth;\n    //获取页面最大高度\n    let page_height = Math.max(_self.document.body.scrollHeight - 80, _self.document.body.clientHeight - 40);\n    // var page_height = document.body.scrollHeight+document.body.scrollTop;\n    //如果将水印列数设置为0，或水印列数设置过大，超过页面最大宽度，则重新计算水印列数和水印x轴间隔\n    if (defaultSettings.watermark_cols == 0 || parseInt(defaultSettings.watermark_x + defaultSettings.watermark_width * defaultSettings.watermark_cols + defaultSettings.watermark_x_space * (defaultSettings.watermark_cols - 1)) > page_width) {\n        defaultSettings.watermark_cols = parseInt((page_width - defaultSettings.watermark_x + defaultSettings.watermark_x_space) / (defaultSettings.watermark_width + defaultSettings.watermark_x_space));\n        defaultSettings.watermark_x_space = parseInt((page_width - defaultSettings.watermark_x - defaultSettings.watermark_width * defaultSettings.watermark_cols) / (defaultSettings.watermark_cols - 1));\n    }\n    //如果将水印行数设置为0，或水印行数设置过大，超过页面最大长度，则重新计算水印行数和水印y轴间隔\n    if (defaultSettings.watermark_rows == 0 || parseInt(defaultSettings.watermark_y + defaultSettings.watermark_height * defaultSettings.watermark_rows + defaultSettings.watermark_y_space * (defaultSettings.watermark_rows - 1)) > page_height) {\n        defaultSettings.watermark_rows = parseInt((defaultSettings.watermark_y_space + page_height - defaultSettings.watermark_y) / (defaultSettings.watermark_height + defaultSettings.watermark_y_space));\n        defaultSettings.watermark_y_space = parseInt((page_height - defaultSettings.watermark_y - defaultSettings.watermark_height * defaultSettings.watermark_rows) / (defaultSettings.watermark_rows - 1));\n    }\n    let x;\n    let y;\n    for (let i = 0; i < defaultSettings.watermark_rows; i++) {\n        y = defaultSettings.watermark_y + (defaultSettings.watermark_y_space + defaultSettings.watermark_height) * i;\n        for (let j = 0; j < defaultSettings.watermark_cols; j++) {\n            x = defaultSettings.watermark_x + (defaultSettings.watermark_width + defaultSettings.watermark_x_space) * j;\n            var mask_div = _self.document.createElement('div');\n            mask_div.id = 'mask_div' + i + j;\n            mask_div.className = 'mask_div';\n            mask_div.appendChild(_self.document.createTextNode(defaultSettings.watermark_txt));\n            //设置水印div倾斜显示\n            mask_div.style.webkitTransform = \"rotate(-\" + defaultSettings.watermark_angle + \"deg)\";\n            mask_div.style.MozTransform = \"rotate(-\" + defaultSettings.watermark_angle + \"deg)\";\n            mask_div.style.msTransform = \"rotate(-\" + defaultSettings.watermark_angle + \"deg)\";\n            mask_div.style.OTransform = \"rotate(-\" + defaultSettings.watermark_angle + \"deg)\";\n            mask_div.style.transform = \"rotate(-\" + defaultSettings.watermark_angle + \"deg)\";\n            mask_div.style.visibility = \"\";\n            mask_div.style.position = \"fixed\";\n            mask_div.style.left = x + 'px';\n            mask_div.style.top = y + 'px';\n            mask_div.style.overflow = \"hidden\";\n            mask_div.style.zIndex = \"19920219\";\n            mask_div.style.pointerEvents = 'none'; //pointer-events:none  让水印不遮挡页面的点击事件\n            //mask_div.style.border=\"solid #eee 1px\";\n            mask_div.style.opacity = defaultSettings.watermark_alpha;\n            mask_div.style.fontSize = defaultSettings.watermark_fontsize;\n            mask_div.style.fontFamily = defaultSettings.watermark_font;\n            mask_div.style.color = defaultSettings.watermark_color;\n            mask_div.style.textAlign = \"center\";\n            mask_div.style.width = defaultSettings.watermark_width + 'px';\n            mask_div.style.height = defaultSettings.watermark_height + 'px';\n            mask_div.style.display = \"block\";\n            //交叉网格显示\n            if (i % 2 == 0 && j % 2 == 0) {\n                oTemp.appendChild(mask_div);\n            }\n            if (i % 2 == 1 && j % 2 == 1) {\n                oTemp.appendChild(mask_div);\n            }\n        };\n    };\n    _self.document.body.appendChild(oTemp);\n};\n\nfunction buildPrintStyle(paper) {\n    const marginLeft = (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.pointToMM)(paper.leftMargin);\n    const marginTop = (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.pointToMM)(paper.topMargin);\n    const marginRight = (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.pointToMM)(paper.rightMargin);\n    const marginBottom = (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.pointToMM)(paper.bottomMargin);\n    const paperType = paper.paperType;\n    let page = paperType;\n    if (paperType === 'CUSTOM') {\n        page = (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.pointToMM)(paper.width) + 'mm ' + (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.pointToMM)(paper.height) + 'mm';\n    }\n    const style = `\n        @media print {\n            .page-break{\n                display: block;\n                page-break-before: always;\n            }\n        }\n        @page {\n          size: ${page} ${paper.orientation};\n          margin-left: ${marginLeft}mm;\n          margin-top: ${marginTop}mm;\n          margin-right:${marginRight}mm;\n          margin-bottom:${marginBottom}mm;\n        }\n    `;\n    return style;\n};\n\nwindow._login = function () {\n    var accessCode = $('#accessCode').val();\n    $.ajax({\n        url: window.__BASEURL__,\n        type: 'POST',\n        data: {\n            __pass: accessCode,\n            _i: 1\n        },\n        beforeSend: function () {\n            //$(window).block({ message: '<div class=\"loaderbox\"><div class=\"loading-circle\"></div>正在处理中，请稍后...</div>' });\n            (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.showTip)('正在处理中，请稍后...');\n        },\n        success: function (ref) {\n            //$(window).unblock();\n            (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n            if (ref.code == '000000') {\n                $('#ft').remove();\n                $('#tpl-css').empty();\n                $('#doc').empty();\n                $('#tpl-css').append(ref.data.style);\n                $('#doc').append(ref.data.content);\n                $('#printTool').css('display', 'block');\n                if (ref.data.page) {\n                    $('#totalPageLabel').html(ref.data.totalPage);\n                    $('#pageSelector').empty();\n                    var html = '';\n                    for (var i = 1; i <= ref.data.totalPage; i++) {\n                        html += \"<option>\" + i + \"</option>\";\n                    }\n                    $('#pageSelector').append(html);\n                } else {\n                    $('#pagingContainer').remove();\n                }\n                if (ref.data.watermark && ref.data.watermark.length > 0) {\n                    _watermark(window, { \"watermark_txt\": ref.data.watermark });\n                }\n                __setItem(window.__SURL__, accessCode);\n                shareBuildPaging(ref.data.pageIndex, ref.data.totalPage);\n            } else {\n                $('#eltxPEmP').html(ref.msg);\n                __clearLockhost();\n            }\n        },\n        error: function (response) {\n            //$(window).unblock();\n            (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n            __clearLockhost();\n            if (response && response.responseText) {\n                (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)(\"服务端错误：\" + response.responseText + \"\");\n            }\n        }\n    });\n};\n\nwindow.shareBuildPaging = function (pageIndex, totalPage) {\n    if (totalPage === 0) {\n        return;\n    }\n    if (!pageIndex) {\n        return;\n    }\n    if (!window._currentPageIndex) {\n        window._currentPageIndex = pageIndex;\n    }\n    //pageIndex=window._currentPageIndex;\n    __setItem(window.__SURL__ + \"_page\", pageIndex);\n    if (!window._totalPage) {\n        window._totalPage = totalPage;\n    }\n\n    let code = __getItem(window.__SURL__);\n    const pageSelector = $('#pageSelector');\n    pageSelector.off('change').on(\"change\", function (e) {\n        e.stopImmediatePropagation();\n        var _i = $(this).val();\n        let url = window.__BASEURL;\n        $.ajax({\n            url,\n            type: 'POST',\n            data: {\n                __pass: code,\n                _i: _i\n            },\n            beforeSend: function () {\n                (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.showTip)('正在处理中，请稍后...');\n            },\n            success: function (ref) {\n                (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                let report = ref.data;\n                $('#tpl-css').empty();\n                $('#doc').empty();\n                $('#tpl-css').append(report.style);\n                $('#doc').append(report.content);\n                // const tableContainer=$(`#_ureport_table`);\n                // tableContainer.empty();\n                // tableContainer.append(report.content);\n                _buildChartDatas(report.chartDatas);\n                const totalPage = report.totalPage;\n                window._totalPage = totalPage;\n                if (pageSelector.length > 0) {\n                    pageSelector.empty();\n                    for (let i = 1; i <= totalPage; i++) {\n                        pageSelector.append(`<option>${i}</option>`);\n                    }\n                    const pageIndex = report.pageIndex || 1;\n                    window._currentPageIndex = pageIndex;\n                    pageSelector.val(pageIndex);\n                    $('#totalPageLabel').html(totalPage);\n                    shareBuildPaging(pageIndex, totalPage);\n                }\n            },\n            error: function (response) {\n                (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                if (response && response.responseText) {\n                    (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)(\"服务端错误：\" + response.responseText + \"\");\n                } else {\n                    (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)('查询操作失败！');\n                }\n            }\n        });\n    });\n    pageSelector.val(pageIndex);\n    if (totalPage === 1) {\n        return;\n    }\n    const pagingContainer = $('#pageLinkContainer');\n    pagingContainer.empty();\n    if (pageIndex > 1) {\n        const prevPage = $(`<button type=\"button\" class=\"btn btn-link btn-sm\">上一页</button>`);\n        pagingContainer.append(prevPage);\n        prevPage.off('click').on(\"click\", function (e) {\n            e.stopImmediatePropagation();\n            var _i = pageIndex - 1;\n            let url = window.__BASEURL__;\n            $.ajax({\n                url,\n                type: 'POST',\n                data: {\n                    __pass: code,\n                    _i: _i\n                },\n                beforeSend: function () {\n                    (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.showTip)('正在处理中，请稍后...');\n                },\n                success: function (ref) {\n                    (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                    let report = ref.data;\n                    $('#tpl-css').empty();\n                    $('#doc').empty();\n                    $('#tpl-css').append(report.style);\n                    $('#doc').append(report.content);\n                    _buildChartDatas(report.chartDatas);\n                    const totalPage = report.totalPage;\n                    window._totalPage = totalPage;\n                    if (pageSelector.length > 0) {\n                        pageSelector.empty();\n                        for (let i = 1; i <= totalPage; i++) {\n                            pageSelector.append(`<option>${i}</option>`);\n                        }\n                        const pageIndex = report.pageIndex || 1;\n                        window._currentPageIndex = pageIndex;\n                        pageSelector.val(pageIndex);\n                        $('#totalPageLabel').html(totalPage);\n                        shareBuildPaging(pageIndex, totalPage);\n                    }\n                },\n                error: function (response) {\n                    (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                    if (response && response.responseText) {\n                        (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)(\"服务端错误：\" + response.responseText + \"\");\n                    } else {\n                        (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)('查询操作失败！');\n                    }\n                }\n            });\n        });\n    }\n    if (pageIndex < totalPage) {\n        const nextPage = $(`<button type=\"button\" class=\"btn btn-link btn-sm\">下一页</button>`);\n        pagingContainer.append(nextPage);\n        nextPage.off('click').on(\"click\", function (e) {\n            e.stopImmediatePropagation();\n            var _i = pageIndex + 1;\n            let url = window.__BASEURL__;\n            $.ajax({\n                url,\n                type: 'POST',\n                data: {\n                    __pass: code,\n                    _i: _i\n                },\n                beforeSend: function () {\n                    (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.showTip)('正在处理中，请稍后...');\n                },\n                success: function (ref) {\n                    (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                    let report = ref.data;\n                    $('#tpl-css').empty();\n                    $('#doc').empty();\n                    $('#tpl-css').append(report.style);\n                    $('#doc').append(report.content);\n                    _buildChartDatas(report.chartDatas);\n                    const totalPage = report.totalPage;\n                    window._totalPage = totalPage;\n                    if (pageSelector.length > 0) {\n                        pageSelector.empty();\n                        for (let i = 1; i <= totalPage; i++) {\n                            pageSelector.append(`<option>${i}</option>`);\n                        }\n                        const pageIndex = report.pageIndex || 1;\n                        window._currentPageIndex = pageIndex;\n                        pageSelector.val(pageIndex);\n                        $('#totalPageLabel').html(totalPage);\n                        shareBuildPaging(pageIndex, totalPage);\n                    }\n                },\n                error: function (response) {\n                    (0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.hideTip)();\n                    if (response && response.responseText) {\n                        (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)(\"服务端错误：\" + response.responseText + \"\");\n                    } else {\n                        (0,_MsgBox_js__WEBPACK_IMPORTED_MODULE_2__.alert)('查询操作失败！');\n                    }\n                }\n            });\n        });\n    }\n};\n\nwindow._buildChartDatas = function (chartData) {\n    if (!chartData) {\n        return;\n    }\n    for (let d of chartData) {\n        let json = d.json;\n        json = JSON.parse(json, function (k, v) {\n            if (v.indexOf && v.indexOf('function') > -1) {\n                return eval(\"(function(){return \" + v + \" })()\");\n            }\n            return v;\n        });\n        _buildChart(d.id, json);\n    }\n};\n\nwindow._buildChart = function (canvasId, chartJson) {\n    const ctx = document.getElementById(canvasId);\n    if (!ctx) {\n        return;\n    }\n    let options = chartJson.options;\n    if (!options) {\n        options = {};\n        chartJson.options = options;\n    }\n    let animation = options.animation;\n    if (!animation) {\n        animation = {};\n        options.animation = animation;\n    }\n    animation.onComplete = function (event) {\n        const chart = event.chart;\n        const base64Image = chart.toBase64Image();\n        const urlParameters = window.location.search;\n        const url = window.__SERVER__ + '/chart/storeData' + urlParameters;\n        const canvas = $(\"#\" + canvasId);\n        const width = parseInt(canvas.css('width'));\n        const height = parseInt(canvas.css('height'));\n        $.ajax({\n            type: 'POST',\n            data: { _base64Data: base64Image, _chartId: canvasId, _width: width, _height: height },\n            url\n        });\n    };\n    const chart = new Chart(ctx, chartJson);\n};\n\nwindow.__setItem = function (key, value) {\n    if (window.localStorage) {\n        window.localStorage.setItem('__JU' + key, value);\n    }\n};\n\nwindow.__getItem = function (key) {\n    if (window.localStorage) {\n        return window.localStorage.getItem('__JU' + key);\n    }\n    return '';\n};\n\nwindow.__clearLockhost = function () {\n    if (window.localStorage) {\n        for (var key in localStorage) {\n            if (key.substring(0, 4) == '__JU') {\n                window.localStorage.removeItem(key);\n            }\n        }\n    }\n};\n\n//# sourceURL=webpack://ureport2-js/./src/sharePreview.js?");

/***/ }),

/***/ "./node_modules/css-loader/index.js!./src/form/external/bootstrap-datetimepicker.css":
/*!*******************************************************************************************!*\
  !*** ./node_modules/css-loader/index.js!./src/form/external/bootstrap-datetimepicker.css ***!
  \*******************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*!\\n * Datetimepicker for Bootstrap\\n *\\n * Copyright 2012 Stefan Petre\\n * Improvements by Andrew Rowls\\n * Licensed under the Apache License v2.0\\n * http://www.apache.org/licenses/LICENSE-2.0\\n *\\n */\\n.datetimepicker {\\n\\tpadding: 4px;\\n\\tmargin-top: 1px;\\n\\t-webkit-border-radius: 4px;\\n\\t-moz-border-radius: 4px;\\n\\tborder-radius: 4px;\\n\\tdirection: ltr;\\n}\\n\\n.datetimepicker-inline {\\n\\twidth: 220px;\\n}\\n\\n.datetimepicker.datetimepicker-rtl {\\n\\tdirection: rtl;\\n}\\n\\n.datetimepicker.datetimepicker-rtl table tr td span {\\n\\tfloat: right;\\n}\\n\\n.datetimepicker-dropdown, .datetimepicker-dropdown-left {\\n\\ttop: 0;\\n\\tleft: 0;\\n}\\n\\n[class*=\\\" datetimepicker-dropdown\\\"]:before {\\n\\tcontent: '';\\n\\tdisplay: inline-block;\\n\\tborder-left: 7px solid transparent;\\n\\tborder-right: 7px solid transparent;\\n\\tborder-bottom: 7px solid #cccccc;\\n\\tborder-bottom-color: rgba(0, 0, 0, 0.2);\\n\\tposition: absolute;\\n}\\n\\n[class*=\\\" datetimepicker-dropdown\\\"]:after {\\n\\tcontent: '';\\n\\tdisplay: inline-block;\\n\\tborder-left: 6px solid transparent;\\n\\tborder-right: 6px solid transparent;\\n\\tborder-bottom: 6px solid #ffffff;\\n\\tposition: absolute;\\n}\\n\\n[class*=\\\" datetimepicker-dropdown-top\\\"]:before {\\n\\tcontent: '';\\n\\tdisplay: inline-block;\\n\\tborder-left: 7px solid transparent;\\n\\tborder-right: 7px solid transparent;\\n\\tborder-top: 7px solid #cccccc;\\n\\tborder-top-color: rgba(0, 0, 0, 0.2);\\n\\tborder-bottom: 0;\\n}\\n\\n[class*=\\\" datetimepicker-dropdown-top\\\"]:after {\\n\\tcontent: '';\\n\\tdisplay: inline-block;\\n\\tborder-left: 6px solid transparent;\\n\\tborder-right: 6px solid transparent;\\n\\tborder-top: 6px solid #ffffff;\\n\\tborder-bottom: 0;\\n}\\n\\n.datetimepicker-dropdown-bottom-left:before {\\n\\ttop: -7px;\\n\\tright: 6px;\\n}\\n\\n.datetimepicker-dropdown-bottom-left:after {\\n\\ttop: -6px;\\n\\tright: 7px;\\n}\\n\\n.datetimepicker-dropdown-bottom-right:before {\\n\\ttop: -7px;\\n\\tleft: 6px;\\n}\\n\\n.datetimepicker-dropdown-bottom-right:after {\\n\\ttop: -6px;\\n\\tleft: 7px;\\n}\\n\\n.datetimepicker-dropdown-top-left:before {\\n\\tbottom: -7px;\\n\\tright: 6px;\\n}\\n\\n.datetimepicker-dropdown-top-left:after {\\n\\tbottom: -6px;\\n\\tright: 7px;\\n}\\n\\n.datetimepicker-dropdown-top-right:before {\\n\\tbottom: -7px;\\n\\tleft: 6px;\\n}\\n\\n.datetimepicker-dropdown-top-right:after {\\n\\tbottom: -6px;\\n\\tleft: 7px;\\n}\\n\\n.datetimepicker > div {\\n\\tdisplay: none;\\n}\\n\\n.datetimepicker.minutes div.datetimepicker-minutes {\\n\\tdisplay: block;\\n}\\n\\n.datetimepicker.hours div.datetimepicker-hours {\\n\\tdisplay: block;\\n}\\n\\n.datetimepicker.days div.datetimepicker-days {\\n\\tdisplay: block;\\n}\\n\\n.datetimepicker.months div.datetimepicker-months {\\n\\tdisplay: block;\\n}\\n\\n.datetimepicker.years div.datetimepicker-years {\\n\\tdisplay: block;\\n}\\n\\n.datetimepicker table {\\n\\tmargin: 0;\\n}\\n\\n.datetimepicker  td,\\n.datetimepicker th {\\n\\ttext-align: center;\\n\\twidth: 20px;\\n\\theight: 20px;\\n\\t-webkit-border-radius: 4px;\\n\\t-moz-border-radius: 4px;\\n\\tborder-radius: 4px;\\n\\tborder: none;\\n}\\n\\n.table-striped .datetimepicker table tr td,\\n.table-striped .datetimepicker table tr th {\\n\\tbackground-color: transparent;\\n}\\n\\n.datetimepicker table tr td.minute:hover {\\n\\tbackground: #eeeeee;\\n\\tcursor: pointer;\\n}\\n\\n.datetimepicker table tr td.hour:hover {\\n\\tbackground: #eeeeee;\\n\\tcursor: pointer;\\n}\\n\\n.datetimepicker table tr td.day:hover {\\n\\tbackground: #eeeeee;\\n\\tcursor: pointer;\\n}\\n\\n.datetimepicker table tr td.old,\\n.datetimepicker table tr td.new {\\n\\tcolor: #999999;\\n}\\n\\n.datetimepicker table tr td.disabled,\\n.datetimepicker table tr td.disabled:hover {\\n\\tbackground: none;\\n\\tcolor: #999999;\\n\\tcursor: default;\\n}\\n\\n.datetimepicker table tr td.today,\\n.datetimepicker table tr td.today:hover,\\n.datetimepicker table tr td.today.disabled,\\n.datetimepicker table tr td.today.disabled:hover {\\n\\tbackground-color: #fde19a;\\n\\tbackground-image: -moz-linear-gradient(top, #fdd49a, #fdf59a);\\n\\tbackground-image: -ms-linear-gradient(top, #fdd49a, #fdf59a);\\n\\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#fdd49a), to(#fdf59a));\\n\\tbackground-image: -webkit-linear-gradient(top, #fdd49a, #fdf59a);\\n\\tbackground-image: -o-linear-gradient(top, #fdd49a, #fdf59a);\\n\\tbackground-image: linear-gradient(to bottom, #fdd49a, #fdf59a);\\n\\tbackground-repeat: repeat-x;\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fdd49a', endColorstr='#fdf59a', GradientType=0);\\n\\tborder-color: #fdf59a #fdf59a #fbed50;\\n\\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(enabled=false);\\n}\\n\\n.datetimepicker table tr td.today:hover,\\n.datetimepicker table tr td.today:hover:hover,\\n.datetimepicker table tr td.today.disabled:hover,\\n.datetimepicker table tr td.today.disabled:hover:hover,\\n.datetimepicker table tr td.today:active,\\n.datetimepicker table tr td.today:hover:active,\\n.datetimepicker table tr td.today.disabled:active,\\n.datetimepicker table tr td.today.disabled:hover:active,\\n.datetimepicker table tr td.today.active,\\n.datetimepicker table tr td.today:hover.active,\\n.datetimepicker table tr td.today.disabled.active,\\n.datetimepicker table tr td.today.disabled:hover.active,\\n.datetimepicker table tr td.today.disabled,\\n.datetimepicker table tr td.today:hover.disabled,\\n.datetimepicker table tr td.today.disabled.disabled,\\n.datetimepicker table tr td.today.disabled:hover.disabled,\\n.datetimepicker table tr td.today[disabled],\\n.datetimepicker table tr td.today:hover[disabled],\\n.datetimepicker table tr td.today.disabled[disabled],\\n.datetimepicker table tr td.today.disabled:hover[disabled] {\\n\\tbackground-color: #fdf59a;\\n}\\n\\n.datetimepicker table tr td.today:active,\\n.datetimepicker table tr td.today:hover:active,\\n.datetimepicker table tr td.today.disabled:active,\\n.datetimepicker table tr td.today.disabled:hover:active,\\n.datetimepicker table tr td.today.active,\\n.datetimepicker table tr td.today:hover.active,\\n.datetimepicker table tr td.today.disabled.active,\\n.datetimepicker table tr td.today.disabled:hover.active {\\n\\tbackground-color: #fbf069;\\n}\\n\\n.datetimepicker table tr td.active,\\n.datetimepicker table tr td.active:hover,\\n.datetimepicker table tr td.active.disabled,\\n.datetimepicker table tr td.active.disabled:hover {\\n\\tbackground-color: #006dcc;\\n\\tbackground-image: -moz-linear-gradient(top, #0088cc, #0044cc);\\n\\tbackground-image: -ms-linear-gradient(top, #0088cc, #0044cc);\\n\\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#0088cc), to(#0044cc));\\n\\tbackground-image: -webkit-linear-gradient(top, #0088cc, #0044cc);\\n\\tbackground-image: -o-linear-gradient(top, #0088cc, #0044cc);\\n\\tbackground-image: linear-gradient(to bottom, #0088cc, #0044cc);\\n\\tbackground-repeat: repeat-x;\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#0088cc', endColorstr='#0044cc', GradientType=0);\\n\\tborder-color: #0044cc #0044cc #002a80;\\n\\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(enabled=false);\\n\\tcolor: #ffffff;\\n\\ttext-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.datetimepicker table tr td.active:hover,\\n.datetimepicker table tr td.active:hover:hover,\\n.datetimepicker table tr td.active.disabled:hover,\\n.datetimepicker table tr td.active.disabled:hover:hover,\\n.datetimepicker table tr td.active:active,\\n.datetimepicker table tr td.active:hover:active,\\n.datetimepicker table tr td.active.disabled:active,\\n.datetimepicker table tr td.active.disabled:hover:active,\\n.datetimepicker table tr td.active.active,\\n.datetimepicker table tr td.active:hover.active,\\n.datetimepicker table tr td.active.disabled.active,\\n.datetimepicker table tr td.active.disabled:hover.active,\\n.datetimepicker table tr td.active.disabled,\\n.datetimepicker table tr td.active:hover.disabled,\\n.datetimepicker table tr td.active.disabled.disabled,\\n.datetimepicker table tr td.active.disabled:hover.disabled,\\n.datetimepicker table tr td.active[disabled],\\n.datetimepicker table tr td.active:hover[disabled],\\n.datetimepicker table tr td.active.disabled[disabled],\\n.datetimepicker table tr td.active.disabled:hover[disabled] {\\n\\tbackground-color: #0044cc;\\n}\\n\\n.datetimepicker table tr td.active:active,\\n.datetimepicker table tr td.active:hover:active,\\n.datetimepicker table tr td.active.disabled:active,\\n.datetimepicker table tr td.active.disabled:hover:active,\\n.datetimepicker table tr td.active.active,\\n.datetimepicker table tr td.active:hover.active,\\n.datetimepicker table tr td.active.disabled.active,\\n.datetimepicker table tr td.active.disabled:hover.active {\\n\\tbackground-color: #003399;\\n}\\n\\n.datetimepicker table tr td span {\\n\\tdisplay: block;\\n\\twidth: 23%;\\n\\theight: 54px;\\n\\tline-height: 54px;\\n\\tfloat: left;\\n\\tmargin: 1%;\\n\\tcursor: pointer;\\n\\t-webkit-border-radius: 4px;\\n\\t-moz-border-radius: 4px;\\n\\tborder-radius: 4px;\\n}\\n\\n.datetimepicker .datetimepicker-hours span {\\n\\theight: 26px;\\n\\tline-height: 26px;\\n}\\n\\n.datetimepicker .datetimepicker-hours table tr td span.hour_am,\\n.datetimepicker .datetimepicker-hours table tr td span.hour_pm {\\n\\twidth: 14.6%;\\n}\\n\\n.datetimepicker .datetimepicker-hours fieldset legend,\\n.datetimepicker .datetimepicker-minutes fieldset legend {\\n\\tmargin-bottom: inherit;\\n\\tline-height: 30px;\\n}\\n\\n.datetimepicker .datetimepicker-minutes span {\\n\\theight: 26px;\\n\\tline-height: 26px;\\n}\\n\\n.datetimepicker table tr td span:hover {\\n\\tbackground: #eeeeee;\\n}\\n\\n.datetimepicker table tr td span.disabled,\\n.datetimepicker table tr td span.disabled:hover {\\n\\tbackground: none;\\n\\tcolor: #999999;\\n\\tcursor: default;\\n}\\n\\n.datetimepicker table tr td span.active,\\n.datetimepicker table tr td span.active:hover,\\n.datetimepicker table tr td span.active.disabled,\\n.datetimepicker table tr td span.active.disabled:hover {\\n\\tbackground-color: #006dcc;\\n\\tbackground-image: -moz-linear-gradient(top, #0088cc, #0044cc);\\n\\tbackground-image: -ms-linear-gradient(top, #0088cc, #0044cc);\\n\\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#0088cc), to(#0044cc));\\n\\tbackground-image: -webkit-linear-gradient(top, #0088cc, #0044cc);\\n\\tbackground-image: -o-linear-gradient(top, #0088cc, #0044cc);\\n\\tbackground-image: linear-gradient(to bottom, #0088cc, #0044cc);\\n\\tbackground-repeat: repeat-x;\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#0088cc', endColorstr='#0044cc', GradientType=0);\\n\\tborder-color: #0044cc #0044cc #002a80;\\n\\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(enabled=false);\\n\\tcolor: #ffffff;\\n\\ttext-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.datetimepicker table tr td span.active:hover,\\n.datetimepicker table tr td span.active:hover:hover,\\n.datetimepicker table tr td span.active.disabled:hover,\\n.datetimepicker table tr td span.active.disabled:hover:hover,\\n.datetimepicker table tr td span.active:active,\\n.datetimepicker table tr td span.active:hover:active,\\n.datetimepicker table tr td span.active.disabled:active,\\n.datetimepicker table tr td span.active.disabled:hover:active,\\n.datetimepicker table tr td span.active.active,\\n.datetimepicker table tr td span.active:hover.active,\\n.datetimepicker table tr td span.active.disabled.active,\\n.datetimepicker table tr td span.active.disabled:hover.active,\\n.datetimepicker table tr td span.active.disabled,\\n.datetimepicker table tr td span.active:hover.disabled,\\n.datetimepicker table tr td span.active.disabled.disabled,\\n.datetimepicker table tr td span.active.disabled:hover.disabled,\\n.datetimepicker table tr td span.active[disabled],\\n.datetimepicker table tr td span.active:hover[disabled],\\n.datetimepicker table tr td span.active.disabled[disabled],\\n.datetimepicker table tr td span.active.disabled:hover[disabled] {\\n\\tbackground-color: #0044cc;\\n}\\n\\n.datetimepicker table tr td span.active:active,\\n.datetimepicker table tr td span.active:hover:active,\\n.datetimepicker table tr td span.active.disabled:active,\\n.datetimepicker table tr td span.active.disabled:hover:active,\\n.datetimepicker table tr td span.active.active,\\n.datetimepicker table tr td span.active:hover.active,\\n.datetimepicker table tr td span.active.disabled.active,\\n.datetimepicker table tr td span.active.disabled:hover.active {\\n\\tbackground-color: #003399;\\n}\\n\\n.datetimepicker table tr td span.old {\\n\\tcolor: #999999;\\n}\\n\\n.datetimepicker th.switch {\\n\\twidth: 145px;\\n}\\n\\n.datetimepicker th span.glyphicon {\\n\\tpointer-events: none;\\n}\\n\\n.datetimepicker thead tr:first-child th,\\n.datetimepicker tfoot th {\\n\\tcursor: pointer;\\n}\\n\\n.datetimepicker thead tr:first-child th:hover,\\n.datetimepicker tfoot th:hover {\\n\\tbackground: #eeeeee;\\n}\\n\\n.input-append.date .add-on i,\\n.input-prepend.date .add-on i,\\n.input-group.date .input-group-addon span {\\n\\tcursor: pointer;\\n\\twidth: 14px;\\n\\theight: 14px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack://ureport2-js/./src/form/external/bootstrap-datetimepicker.css?./node_modules/css-loader/index.js");

/***/ }),

/***/ "./node_modules/css-loader/lib/css-base.js":
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/***/ ((module) => {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n//# sourceURL=webpack://ureport2-js/./node_modules/css-loader/lib/css-base.js?");

/***/ }),

/***/ "./node_modules/style-loader/addStyles.js":
/*!************************************************!*\
  !*** ./node_modules/style-loader/addStyles.js ***!
  \************************************************/
/***/ ((module) => {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n//# sourceURL=webpack://ureport2-js/./node_modules/style-loader/addStyles.js?");

/***/ }),

/***/ "./src/form/external/bootstrap-datetimepicker.css":
/*!********************************************************!*\
  !*** ./src/form/external/bootstrap-datetimepicker.css ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !!../../../node_modules/css-loader/index.js!./bootstrap-datetimepicker.css */ \"./node_modules/css-loader/index.js!./src/form/external/bootstrap-datetimepicker.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(/*! !../../../node_modules/style-loader/addStyles.js */ \"./node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://ureport2-js/./src/form/external/bootstrap-datetimepicker.css?");

/***/ }),

/***/ "./node_modules/undo-manager/lib/undomanager.js":
/*!******************************************************!*\
  !*** ./node_modules/undo-manager/lib/undomanager.js ***!
  \******************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*\nSimple Javascript undo and redo.\nhttps://github.com/ArthurClemens/Javascript-Undo-Manager\n*/\n\n;(function() {\n\n\t'use strict';\n\n    function removeFromTo(array, from, to) {\n        array.splice(from,\n            !to ||\n            1 + to - from + (!(to < 0 ^ from >= 0) && (to < 0 || -1) * array.length));\n        return array.length;\n    }\n\n    var UndoManager = function() {\n\n        var commands = [],\n            index = -1,\n            limit = 0,\n            isExecuting = false,\n            callback,\n            \n            // functions\n            execute;\n\n        execute = function(command, action) {\n            if (!command || typeof command[action] !== \"function\") {\n                return this;\n            }\n            isExecuting = true;\n\n            command[action]();\n\n            isExecuting = false;\n            return this;\n        };\n\n        return {\n\n            /*\n            Add a command to the queue.\n            */\n            add: function (command) {\n                if (isExecuting) {\n                    return this;\n                }\n                // if we are here after having called undo,\n                // invalidate items higher on the stack\n                commands.splice(index + 1, commands.length - index);\n\n                commands.push(command);\n                \n                // if limit is set, remove items from the start\n                if (limit && commands.length > limit) {\n                    removeFromTo(commands, 0, -(limit+1));\n                }\n                \n                // set the current index to the end\n                index = commands.length - 1;\n                if (callback) {\n                    callback();\n                }\n                return this;\n            },\n\n            /*\n            Pass a function to be called on undo and redo actions.\n            */\n            setCallback: function (callbackFunc) {\n                callback = callbackFunc;\n            },\n\n            /*\n            Perform undo: call the undo function at the current index and decrease the index by 1.\n            */\n            undo: function () {\n                var command = commands[index];\n                if (!command) {\n                    return this;\n                }\n                execute(command, \"undo\");\n                index -= 1;\n                if (callback) {\n                    callback();\n                }\n                return this;\n            },\n\n            /*\n            Perform redo: call the redo function at the next index and increase the index by 1.\n            */\n            redo: function () {\n                var command = commands[index + 1];\n                if (!command) {\n                    return this;\n                }\n                execute(command, \"redo\");\n                index += 1;\n                if (callback) {\n                    callback();\n                }\n                return this;\n            },\n\n            /*\n            Clears the memory, losing all stored states. Reset the index.\n            */\n            clear: function () {\n                var prev_size = commands.length;\n\n                commands = [];\n                index = -1;\n\n                if (callback && (prev_size > 0)) {\n                    callback();\n                }\n            },\n\n            hasUndo: function () {\n                return index !== -1;\n            },\n\n            hasRedo: function () {\n                return index < (commands.length - 1);\n            },\n\n            getCommands: function () {\n                return commands;\n            },\n\n            getIndex: function() {\n                return index;\n            },\n            \n            setLimit: function (l) {\n                limit = l;\n            }\n        };\n    };\n\n\tif (true) {\n\t\t// AMD. Register as an anonymous module.\n\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n\t\t\treturn UndoManager;\n\t\t}).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n\n}());\n\n\n//# sourceURL=webpack://ureport2-js/./node_modules/undo-manager/lib/undomanager.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/sharePreview.js");
/******/ 	
/******/ })()
;